<!doctype html><html lang=en-us><head><meta http-equiv=x-clacks-overhead content="GNU Terry Pratchett"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" href=https://til.chekos.dev/static/img/icon.png><title>Using GitHub Actions to produce example images of code | chekos' today i learned</title><meta name=title content="Using GitHub Actions to produce example images of code"><meta name=description content="what i learned I learned to chain a lot of small tools using GitHub Actions to produce ready-to-share images of code examples for social media (namely, instagram and twitter) from my phone. The steps, generally speaking, go as follows:
Create a new page on a Notion Database. Probably will create a specific template for this, like I do with TIL’s but it’s not necessary. GitHub Action: Use my markdownify-notion python package to write the markdown version of this page and save it on a “quarto project” folder."><meta name=keywords content="python,gh-actions,quarto,notion,"><meta property="og:title" content="Using GitHub Actions to produce example images of code"><meta property="og:description" content="what i learned I learned to chain a lot of small tools using GitHub Actions to produce ready-to-share images of code examples for social media (namely, instagram and twitter) from my phone. The steps, generally speaking, go as follows:
Create a new page on a Notion Database. Probably will create a specific template for this, like I do with TIL’s but it’s not necessary. GitHub Action: Use my markdownify-notion python package to write the markdown version of this page and save it on a “quarto project” folder."><meta property="og:type" content="article"><meta property="og:url" content="https://til.chekos.dev/2022/08/14/using-github-actions-to-produce-example-images-of-code/"><meta property="og:image" content="http://til.chekos.dev/img/logo.png"><meta property="article:section" content="blog"><meta property="article:published_time" content="2022-08-14T16:30:00+00:00"><meta property="article:modified_time" content="2022-08-14T16:30:00+00:00"><meta property="og:site_name" content="chekos' today i learned"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://til.chekos.dev/img/logo.png"><meta name=twitter:title content="Using GitHub Actions to produce example images of code"><meta name=twitter:description content="what i learned I learned to chain a lot of small tools using GitHub Actions to produce ready-to-share images of code examples for social media (namely, instagram and twitter) from my phone. The steps, generally speaking, go as follows:
Create a new page on a Notion Database. Probably will create a specific template for this, like I do with TIL’s but it’s not necessary. GitHub Action: Use my markdownify-notion python package to write the markdown version of this page and save it on a “quarto project” folder."><meta name=twitter:site content="@ChekosWH"><meta itemprop=name content="Using GitHub Actions to produce example images of code"><meta itemprop=description content="what i learned I learned to chain a lot of small tools using GitHub Actions to produce ready-to-share images of code examples for social media (namely, instagram and twitter) from my phone. The steps, generally speaking, go as follows:
Create a new page on a Notion Database. Probably will create a specific template for this, like I do with TIL’s but it’s not necessary. GitHub Action: Use my markdownify-notion python package to write the markdown version of this page and save it on a “quarto project” folder."><meta itemprop=datePublished content="2022-08-14T16:30:00+00:00"><meta itemprop=dateModified content="2022-08-14T16:30:00+00:00"><meta itemprop=wordCount content="422"><meta itemprop=image content="http://til.chekos.dev/img/logo.png"><meta itemprop=keywords content="python,gh-actions,quarto,notion,"><meta name=referrer content="no-referrer-when-downgrade"><style>body{font-family:Verdana,sans-serif;margin:auto;padding:20px;max-width:720px;text-align:left;background-color:#fff;word-wrap:break-word;overflow-wrap:break-word;line-height:1.5;color:#444}h1,h2,h3,h4,h5,h6,strong,b{color:#222}a{color:#3273dc}.title{text-decoration:none;border:0}.title span{font-weight:400}nav a{margin-right:10px}textarea{width:100%;font-size:16px}input{font-size:16px}content{line-height:1.6}table{width:100%}img{max-width:100%}code{padding:2px 5px;background-color:#f2f2f2}pre code{color:#222;display:block;padding:20px;white-space:pre-wrap;font-size:14px}div.highlight pre{background-color:initial;color:initial}div.highlight code{background-color:unset;color:unset}blockquote{border-left:1px solid #999;color:#222;padding-left:20px;font-style:italic}footer{padding:25px;text-align:center}.helptext{color:#777;font-size:small}.errorlist{color:#eba613;font-size:small}ul.blog-posts{list-style-type:none;padding:unset}ul.blog-posts li{display:flex}ul.blog-posts li span{flex:0 0 130px}ul.blog-posts li a:visited{color:#8b6fcb}@media(prefers-color-scheme:dark){body{background-color:#333;color:#ddd}h1,h2,h3,h4,h5,h6,strong,b{color:#eee}a{color:#8cc2dd}code{background-color:#777}pre code{color:#ddd}blockquote{color:#ccc}textarea,input{background-color:#252525;color:#ddd}.helptext{color:#aaa}}</style><style type=text/css>h2{color:#ff1a75;size:5px}</style></head><body><header><a href=/ class=title><h2>chekos' today i learned</h2></a><nav><a href=/>til</a>
<a href=/about>about</a>
<a href=https://chekos.dev/>chekos.dev</a></nav></header><main><h1>Using GitHub Actions to produce example images of code</h1><p><i><time datetime=2022-08-14 pubdate>2022-08-14</time></i></p><content><h2 id=what-i-learned>what i learned</h2><p>I learned to chain a lot of small tools using GitHub Actions to produce ready-to-share images of code examples for social media (namely, instagram and twitter) from my phone. The steps, generally speaking, go as follows:</p><ol><li>Create a new page on a Notion Database. Probably will create a specific template for this, like I do with TIL’s but it’s not necessary.</li><li>GitHub Action: Use my <code>markdownify-notion</code> python package to write the markdown version of this page and save it on a “quarto project” folder. This let’s me use one general front-matter yaml file for all files rather than automate adding front matter to each file. I can still add specific front matter to files if I want to. (this TIL is an example of how this works - I’m writing it on Notion on my phone.)</li><li>GitHub Action: Use Quarto to render this markdown file <code>--to html</code> and save it on an “output” directory. This will execute the code in the code cells and save the output inline.</li><li>GitHub Action: Use <code>shot-scraper</code> to produce two files: a png screenshot and a pdf file. I’m using <code>shot-scraper</code> for the PDF as well rather than using quarto because it’s easier and I am not in need of customizing this pdf file at all just yet. I’m creating it and saving it essentially just because I can, it’s easy, and might find use for it later.</li><li>GitHub Action: Once there are new png or pdf files in the “output” directory, I then use <code>s3-credentials</code> to <em>put</em> those <em>objects</em> on a S3 bucket I also created using <code>s3-credentials</code> . This tool is fantastic s3-credentials.readthedocs.io</li></ol><p>This is how the final image looks like</p><p><img src="https://s3.us-west-2.amazonaws.com/secure.notion-static.com/04380cef-2bfc-43f9-a2af-5feed89f0ac4/9EB00936-09DE-4836-93B6-8504E7E036A8.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20221125%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20221125T205909Z&X-Amz-Expires=3600&X-Amz-Signature=a467e6aa9285bda1c5e6d6c3825d26342f93dc13d059d30480fb957fb01b73ee&X-Amz-SignedHeaders=host&x-id=GetObject" alt=9EB00936-09DE-4836-93B6-8504E7E036A8></p><h2 id=how-i-learned>how i learned</h2><p>I wanted to checkout quarto for a while and in the last rstudio conference they announced it was finally at version 1.0 so I gave it a try. It’s fairly straightforward but the documentation is clearly aimed at helping beginners and people that may not have any programming experience so a lot of the guides and tutorials and examples are for using Quarto within an editor like Rstudio or VS Code. It was hard to find examples of how to use it programmatically <em>on your own</em> - even the automating examples are using their GitHub Actions and services like Quarto publishing. This is actually great in general but if you need to do something custom they may not offer yet you need to figure it out on your own.</p><h2 id=reference>reference</h2><ul><li><p>Quarto:
<a href=https://quarto.org>quarto.org</a></p></li><li><p>shot-scraper:
<a href=http://shot-scraper.datasette.io/en/stable/>shot-scraper.datasette.io/en/stable/</a></p></li><li><p>s3-credentials:
<a href=http://s3-credentials.readthedocs.io/en/stable/>s3-credentials.readthedocs.io/en/stable/</a></p></li><li><p>markdownify-notion:
<a href=http://github.com/chekos/markdownify-notion>github.com/chekos/markdownify-notion</a></p></li></ul></content><p><a href=https://til.chekos.dev/tags/python/>#python</a>
<a href=https://til.chekos.dev/tags/gh-actions/>#gh-actions</a>
<a href=https://til.chekos.dev/tags/quarto/>#quarto</a>
<a href=https://til.chekos.dev/tags/notion/>#notion</a></p></main><footer>Made with <a href=https://github.com/janraasch/hugo-bearblog/>Hugo ʕ•ᴥ•ʔ Bear</a></footer></body></html>